<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatiio.org//DTD Mapper 3.0//EN"
        "http://mybatiio.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="inv_bill_lines">

    <insert id="saveBillLines" parameterType="java.util.List">
        INSERT INTO inv_bill_lines(`header_id`, `line_number`, `item_id`, `remark`, `quantity`, `uom`, `price`, `amount`, `create_by`, `create_date`, `source_system`, `source_voucher`, `source_id`, `source_line_number`) VALUES
        <foreach collection="list" index="index" item="item" separator="," >
            (#{item.header_id}, #{item.line_number}, #{item.item_id}, #{item.remark}, #{item.quantity}, #{item.uom}, #{item.price}, #{item.amount}, #{item.create_by}, #{item.create_date}, #{item.source_system}, #{item.source_voucher}, #{item.source_id}, #{item.source_line_number})
        </foreach>
    </insert>

    <select id="getBillLinesById" resultType="Map" parameterType="Map">
        SELECT * FROM inv_bill_lines where header_id=#{bill_id} order by line_number asc
    </select>
    

</mapper>
